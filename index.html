<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Bitácora Mental - Plataforma integral de salud emocional y terapia online.">
  <title>Bitácora Mental - El mapa de tu mundo interior</title>
  
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800&family=DM+Sans:wght@400;500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  
  <link rel="stylesheet" href="css/design-system.css">

  <style>
    /* =========================================
       ESTILOS EXCLUSIVOS DE LANDING PAGE
       (Solo lo que NO está en design-system.css)
       ========================================= */
    
    /* Navbar Transparente (Estilo Selia) */
    .landing-nav { 
        position: fixed; 
        top: 0; 
        width: 100%;
        background: rgba(255,255,255,0.90); 
        backdrop-filter: blur(12px); 
        padding: 15px 5%; 
        display: flex; 
        justify-content: space-between; 
        align-items: center; 
        z-index: 1000; 
        border-bottom: 1px solid var(--border); 
        transition: 0.3s;
    }
    
    .nav-brand { 
        font-family: var(--font-heading); 
        font-weight: 800; 
        font-size: 1.5rem; 
        color: var(--primary); 
        text-decoration: none;
        display: flex; 
        align-items: center; 
        gap: 8px; 
    }
    
    .nav-menu { display: flex; align-items: center; gap: 40px; }
    .nav-links { display: flex; gap: 30px; list-style: none; margin: 0; padding: 0; }
    
    .nav-link { 
        color: var(--text-soft); 
        font-weight: 500; 
        font-size: 0.95rem; 
        text-decoration: none;
        transition: color 0.2s;
    }
    .nav-link:hover { color: var(--primary); }
    
    .nav-actions { display: flex; gap: 15px; }

    /* Botón Hamburguesa (Solo Móvil) */
    .mobile-toggle {
        display: none;
        background: none;
        border: none;
        font-size: 1.5rem;
        color: var(--text-main);
        cursor: pointer;
    }

    /* Hero Section */
    .hero { 
        padding: 160px 5% 100px; 
        display: flex; 
        align-items: center; 
        justify-content: space-between; 
        /* Usamos tus variables de color */
        background: radial-gradient(circle at top right, var(--primary-50), transparent 60%); 
        min-height: 90vh; 
    }

    .hero-content { max-width: 600px; }
    
    .hero-title { 
        font-size: 3.5rem; 
        color: var(--primary-600); 
        margin-bottom: 25px; 
        line-height: 1.1; 
    }
    
    .hero-image {
        width: 45%;
        height: 550px;
        object-fit: cover;
        border-radius: var(--radius-xl);
        box-shadow: var(--shadow-lg);
        background-image: url('https://images.unsplash.com/photo-1573497620053-ea5300f94f21?q=80&w=1000');
        background-size: cover;
        background-position: center;
    }

    /* Servicios Grid */
    .section { padding: 100px 5%; }
    .section-header { text-align: center; margin-bottom: 60px; max-width: 800px; margin: 0 auto; }
    
    .services-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
        gap: 30px;
    }

    .service-card {
        background: var(--white);
        border-radius: var(--radius-lg);
        border: 1px solid var(--border);
        overflow: hidden;
        transition: var(--transition);
        display: flex; flex-direction: column;
    }
    .service-card:hover { transform: translateY(-5px); box-shadow: var(--shadow-md); border-color: var(--primary); }
    .srv-img { height: 200px; background: #eee; object-fit: cover; }
    .srv-body { padding: 25px; flex: 1; display: flex; flex-direction: column; }

    /* Planes (Pricing) */
    .pricing-grid { 
        display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px; max-width: 1200px; margin: 0 auto; 
    }
    
    .plan-card { 
        background: var(--white); 
        border: 1px solid var(--border); 
        border-radius: var(--radius-xl); 
        padding: 40px; 
        text-align: center; 
        position: relative;
    }
    
    .plan-card.featured {
        border-color: var(--primary); 
        background: var(--primary-50);
        transform: scale(1.05); 
        box-shadow: var(--shadow-lg);
        z-index: 2;
    }

    .plan-price { font-size: 3rem; font-weight: 800; color: var(--primary); line-height: 1; margin: 10px 0; }
    
    /* Footer Simplificado */
    .footer { background: var(--primary-50); color: var(--text-main); padding: 80px 5% 30px; margin-top: 50px; }
    .footer-grid { display: grid; grid-template-columns: 2fr 1fr 1fr 1fr; gap: 40px; margin-bottom: 60px; }
    .footer-links a { display: block; color: var(--text-soft); text-decoration: none; margin-bottom: 10px; transition: 0.2s; }
    .footer-links a:hover { color: var(--primary); transform: translateX(5px); }

    /* --- RESPONSIVE --- */
    @media (max-width: 900px) {
        .hero { flex-direction: column-reverse; padding-top: 120px; text-align: center; }
        .hero-title { font-size: 2.5rem; }
        .hero-image { width: 100%; height: 300px; }
        
        .footer-grid { grid-template-columns: 1fr; gap: 40px; }
        .nav-menu { display: none; } /* Ocultamos menú desktop */
        .mobile-toggle { display: block; } /* Mostramos botón móvil */
        
        /* Menú Móvil Desplegable */
        .mobile-nav-container {
            position: fixed;
            top: 70px; left: 0; width: 100%; height: 100vh;
            background: var(--white);
            flex-direction: column; padding: 40px; gap: 20px;
            transform: translateX(100%);
            transition: 0.3s;
            display: flex;
        }
        .mobile-nav-container.active { transform: translateX(0); }
        .mobile-nav-container a { font-size: 1.2rem; font-weight: 600; color: var(--text-main); }
    }
  </style>
</head>
<body>

  <nav class="landing-nav">
    <a href="/" class="nav-brand">
        <i class="fas fa-brain"></i> Bitácora Mental
    </a>

    <button class="mobile-toggle" onclick="toggleLandingMenu()">
        <i class="fas fa-bars"></i>
    </button>

    <div class="nav-menu">
        <ul class="nav-links">
            <li><a href="#servicios" class="nav-link">Servicios</a></li>
            <li><a href="#metodo" class="nav-link">El Método</a></li>
            <li><a href="#planes" class="nav-link">Planes</a></li>
        </ul>
        <div class="nav-actions">
            <a href="app/login.html" class="btn btn-secondary" style="text-decoration:none;">Ingresar</a>
            <a href="app/entrevista.html" class="btn btn-primary" style="text-decoration:none; color:white;">Empezar Gratis</a>
        </div>
    </div>

    <div class="mobile-nav-container" id="mobileMenu">
        <a href="#servicios" onclick="toggleLandingMenu()">Servicios</a>
        <a href="#metodo" onclick="toggleLandingMenu()">El Método</a>
        <a href="#planes" onclick="toggleLandingMenu()">Planes</a>
        <hr style="width:100%; border:0; border-top:1px solid var(--border);">
        <a href="app/login.html">Ingresar</a>
        <a href="app/entrevista.html" style="color:var(--primary);">Crear Cuenta Gratis</a>
    </div>
  </nav>

  <section class="hero">
    <div class="hero-content">
      <div style="background:var(--accent-light); color:var(--accent); padding:5px 15px; border-radius:20px; display:inline-block; font-weight:700; font-size:0.85rem; margin-bottom:20px;">
         <i class="fas fa-star"></i> Nueva plataforma 2026
      </div>
      <h1 class="hero-title">Recupera el control de tu narrativa emocional.</h1>
      <p style="font-size:1.2rem; color:var(--text-soft); margin-bottom:30px;">
        Bitácora Mental no es solo terapia: es tu sistema diario para registrar, entender y gestionar tus emociones con datos reales.
      </p>
      <a href="app/entrevista.html" class="btn btn-primary" style="padding:15px 30px; text-decoration:none; color:white;">
        Iniciar mi registro diario <i class="fas fa-arrow-right"></i>
      </a>
    </div>
    <div class="hero-image"></div>
  </section>

  <section id="servicios" class="section">
    <div class="section-header">
        <h2>Un ecosistema para tu bienestar</h2>
        <p>Herramientas profesionales adaptadas a tu ritmo, no al revés.</p>
    </div>
    <div class="services-grid">
        <div class="service-card">
            <img src="https://images.unsplash.com/photo-1573496359142-b8d87734a5a2?q=80&w=600" class="srv-img" alt="Terapia">
            <div class="srv-body">
                <h3 style="margin-bottom:10px; color:var(--text-main);">Terapia 1 a 1</h3>
                <p style="color:var(--text-soft); font-size:0.95rem; flex:1;">Sesiones privadas con especialistas verificados.</p>
                <a href="#" style="color:var(--primary); font-weight:700;">Ver directorio &rarr;</a>
            </div>
        </div>
        <div class="service-card">
            <img src="https://images.unsplash.com/photo-1517048676732-d65bc937f952?q=80&w=600" class="srv-img" alt="Diario">
            <div class="srv-body">
                <h3 style="margin-bottom:10px; color:var(--text-main);">Diario Inteligente</h3>
                <p style="color:var(--text-soft); font-size:0.95rem; flex:1;">Tu espacio seguro para volcar pensamientos.</p>
                <a href="#" style="color:var(--primary); font-weight:700;">Empezar a escribir &rarr;</a>
            </div>
        </div>
        <div class="service-card">
            <img src="https://images.unsplash.com/photo-1544717305-2782549b5136?q=80&w=600" class="srv-img" alt="Recursos">
            <div class="srv-body">
                <h3 style="margin-bottom:10px; color:var(--text-main);">Caja de Herramientas</h3>
                <p style="color:var(--text-soft); font-size:0.95rem; flex:1;">Tests, audios y guías prácticas validadas.</p>
                <a href="#" style="color:var(--primary); font-weight:700;">Explorar recursos &rarr;</a>
            </div>
        </div>
    </div>
  </section>

  <section id="planes" class="section" style="background:var(--white);">
    <div class="section-header">
      <h2>Invierte en tu paz mental</h2>
      <p>Planes transparentes que puedes cancelar cuando quieras.</p>
    </div>
    
    <div class="pricing-grid" id="planesContainer">
        <div style="grid-column:1/-1; text-align:center;">
            <i class="fas fa-circle-notch fa-spin"></i> Cargando planes...
        </div>
    </div>
  </section>

  <footer class="footer">
    <div class="footer-grid">
        <div>
            <h3 style="color:var(--primary); margin-bottom:15px; font-weight:800;">Bitácora Mental</h3>
            <p style="color:var(--text-soft); font-size:0.9rem;">Tecnología humana para el cuidado de la mente. Democratizando el bienestar en Latinoamérica.</p>
        </div>
        <div>
            <h4 style="margin-bottom:20px;">Plataforma</h4>
            <div class="footer-links">
                <a href="app/login.html">Iniciar Sesión</a>
                <a href="app/entrevista.html">Registrarse</a>
                <a href="#planes">Membresías</a>
            </div>
        </div>
        <div>
            <h4 style="margin-bottom:20px;">Legal</h4>
            <div class="footer-links">
                <a href="#">Privacidad</a>
                <a href="#">Términos</a>
                <a href="#">Libro de Reclamaciones</a>
            </div>
        </div>
        <div>
            <h4 style="margin-bottom:20px;">Contacto</h4>
            <div class="footer-links">
                <a href="mailto:hola@bitacora.com">hola@bitacora.com</a>
                <a href="#">Lima, Perú</a>
            </div>
        </div>
    </div>
    <div style="border-top:1px solid rgba(0,0,0,0.1); padding-top:30px; text-align:center; font-size:0.85rem; color:var(--text-soft);">
        &copy; 2026 Bitácora Mental. Todos los derechos reservados.
    </div>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script src="js/supabase-config.js"></script>
  
  <script>
    // 1. Lógica del Menú Móvil (Simple y efectiva para Landing)
    function toggleLandingMenu() {
        const menu = document.getElementById('mobileMenu');
        const btn = document.querySelector('.mobile-toggle i');
        
        menu.classList.toggle('active');
        
        if (menu.classList.contains('active')) {
            btn.classList.remove('fa-bars');
            btn.classList.add('fa-times');
        } else {
            btn.classList.remove('fa-times');
            btn.classList.add('fa-bars');
        }
    }

    // 2. Carga Dinámica de Planes (Igual que antes)
    document.addEventListener('DOMContentLoaded', async () => {
        if (!window.sb) return;
        
        const { data: planes } = await window.sb.from('web_planes').select('*').eq('visible', true).order('orden');
        const container = document.getElementById('planesContainer');
        
        if (planes && planes.length > 0) {
            container.innerHTML = planes.map(plan => `
                <div class="plan-card ${plan.es_recomendado ? 'featured' : ''}">
                    ${plan.es_recomendado ? '<div style="position:absolute; top:-15px; left:50%; transform:translateX(-50%); background:var(--primary); color:white; padding:5px 15px; border-radius:20px; font-size:0.8rem; font-weight:700;">RECOMENDADO</div>' : ''}
                    <h3 style="font-size:1.5rem; margin-bottom:10px; color:var(--text-main);">${plan.nombre}</h3>
                    <div class="plan-price">S/ ${plan.precio}<span style="font-size:1rem; font-weight:400; color:var(--text-soft);">/mes</span></div>
                    <ul style="text-align:left; margin:30px 0; list-style:none; padding:0;">
                        ${(plan.features || []).map(f => `<li style="margin-bottom:10px; color:var(--text-soft);"><i class="fas fa-check" style="color:var(--primary); margin-right:10px;"></i>${f}</li>`).join('')}
                    </ul>
                    <a href="app/entrevista.html" class="btn btn-primary" style="width:100%; text-decoration:none; display:inline-block; color:white;">${plan.btn_texto || 'Elegir Plan'}</a>
                </div>
            `).join('');
        } else {
            // Fallback
            container.innerHTML = `<p style="text-align:center; grid-column:1/-1;">Planes no disponibles.</p>`;
        }
    });
  </script>
</body>
</html>
