<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
  <title>Libro de Reclamaciones - Bit√°cora Mental</title>
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@600;700&family=DM+Sans:wght@400;500;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="css/design-system.css">
  <style>
    body { font-family: 'DM Sans', sans-serif; background: var(--bg); margin: 0; padding-top: 80px; }
    .container { max-width: 800px; margin: 0 auto; padding: 60px 20px; }
    .page-header { text-align: center; margin-bottom: 40px; }
    .page-header h1 { font-family: 'Outfit', sans-serif; font-size: 2.5rem; color: var(--primary); margin-bottom: 15px; }
    .page-header p { color: var(--text-soft); font-size: 1.1rem; }
    
    .info-banner { background: linear-gradient(135deg, var(--primary-50), var(--primary-100)); padding: 25px; border-radius: 16px; margin-bottom: 30px; border-left: 5px solid var(--primary); }
    .info-banner h3 { margin: 0 0 10px 0; color: var(--primary); display: flex; align-items: center; gap: 10px; }
    .info-banner p { margin: 0; color: var(--text-main); line-height: 1.6; }
    
    .form-card { background: white; padding: 40px; border-radius: 20px; border: 1px solid var(--border); }
    .form-section { margin-bottom: 35px; }
    .form-section h3 { font-family: 'Outfit', sans-serif; color: var(--primary); font-size: 1.3rem; margin-bottom: 20px; border-bottom: 2px solid var(--primary-50); padding-bottom: 10px; }
    
    .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px; }
    .form-group { margin-bottom: 20px; }
    .form-group label { display: block; font-weight: 600; margin-bottom: 8px; color: var(--text-main); font-size: 0.95rem; }
    .form-group label.required::after { content: ' *'; color: #EF4444; }
    
    .form-group input, .form-group textarea, .form-group select { 
      width: 100%; 
      padding: 14px; 
      border: 2px solid var(--border); 
      border-radius: 10px; 
      font-family: inherit; 
      font-size: 16px; 
      transition: all 0.3s;
    }
    .form-group input:focus, .form-group textarea:focus, .form-group select:focus { 
      outline: none; 
      border-color: var(--primary); 
      box-shadow: 0 0 0 3px var(--primary-50);
    }
    .form-group textarea { resize: vertical; min-height: 120px; }
    .form-group small { display: block; margin-top: 5px; color: var(--text-soft); font-size: 0.85rem; }
    
    .radio-group { display: flex; flex-direction: column; gap: 12px; }
    .radio-option { display: flex; align-items: center; gap: 10px; padding: 12px; border: 2px solid var(--border); border-radius: 10px; cursor: pointer; transition: all 0.3s; }
    .radio-option:hover { border-color: var(--primary); background: var(--primary-50); }
    .radio-option input[type="radio"] { width: auto; margin: 0; cursor: pointer; }
    
    .file-upload { border: 2px dashed var(--border); border-radius: 12px; padding: 30px; text-align: center; cursor: pointer; transition: all 0.3s; }
    .file-upload:hover { border-color: var(--primary); background: var(--primary-50); }
    .file-upload input[type="file"] { display: none; }
    .file-upload-label { display: flex; flex-direction: column; align-items: center; gap: 10px; cursor: pointer; }
    .file-upload-icon { font-size: 2.5rem; color: var(--primary); }
    
    .btn-submit { 
      background: var(--primary); 
      color: white; 
      padding: 18px 40px; 
      border: none; 
      border-radius: 12px; 
      font-weight: 700; 
      width: 100%; 
      cursor: pointer; 
      font-size: 1.1rem;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      transition: all 0.3s;
    }
    .btn-submit:hover { background: var(--primary-500); transform: translateY(-2px); box-shadow: 0 6px 20px rgba(79, 111, 82, 0.3); }
    .btn-submit:disabled { background: #CBD5E1; cursor: not-allowed; transform: none; }
    
    .back-link { display: inline-flex; align-items: center; gap: 8px; color: var(--primary); text-decoration: none; font-weight: 600; margin-bottom: 20px; }
    .back-link:hover { gap: 12px; }
    
    .legal-note { background: #F8F9FA; padding: 20px; border-radius: 12px; margin-top: 30px; font-size: 0.9rem; color: var(--text-soft); line-height: 1.6; }
    
    @media (max-width: 768px) {
      .page-header h1 { font-size: 2rem; }
      .form-card { padding: 25px 20px; }
      .form-row { grid-template-columns: 1fr; gap: 0; }
    }
  </style>
</head>
<body>
  <div class="container">
    <a href="index.html" class="back-link">
      <i class="fas fa-arrow-left"></i> Volver al inicio
    </a>
    
    <div class="page-header">
      <h1>Libro de Reclamaciones</h1>
      <p>Conforme a la Ley N¬∞ 29571 - C√≥digo de Protecci√≥n y Defensa del Consumidor</p>
    </div>

    <div class="info-banner">
      <h3><i class="fas fa-info-circle"></i> Informaci√≥n Importante</h3>
      <p>
        Este libro de reclamaciones virtual permite registrar quejas o reclamos sobre nuestros servicios. 
        Seg√∫n la normativa peruana, responderemos tu solicitud en un plazo m√°ximo de <strong>30 d√≠as calendario</strong>. 
        La presentaci√≥n del reclamo no impide acudir a otras v√≠as de soluci√≥n de controversias ni es requisito previo para interponer una denuncia ante el INDECOPI.
      </p>
    </div>

    <form id="reclamacionForm" class="form-card" onsubmit="handleSubmit(event)">
      
      <!-- Datos del Consumidor -->
      <div class="form-section">
        <h3>1. Datos del Consumidor</h3>
        
        <div class="form-row">
          <div class="form-group">
            <label class="required">Nombres</label>
            <input type="text" required placeholder="Juan Carlos">
          </div>
          <div class="form-group">
            <label class="required">Apellidos</label>
            <input type="text" required placeholder="P√©rez Garc√≠a">
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label class="required">Tipo de Documento</label>
            <select required>
              <option value="">Seleccione...</option>
              <option value="DNI">DNI</option>
              <option value="CE">Carnet de Extranjer√≠a</option>
              <option value="Pasaporte">Pasaporte</option>
              <option value="RUC">RUC</option>
            </select>
          </div>
          <div class="form-group">
            <label class="required">N√∫mero de Documento</label>
            <input type="text" required placeholder="12345678">
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label class="required">Email</label>
            <input type="email" required placeholder="tu@email.com">
            <small>Te enviaremos la respuesta a este correo</small>
          </div>
          <div class="form-group">
            <label class="required">Tel√©fono</label>
            <input type="tel" required placeholder="+51 999 999 999">
          </div>
        </div>

        <div class="form-group">
          <label class="required">Direcci√≥n</label>
          <input type="text" required placeholder="Av. Principal 123, Lima">
        </div>
      </div>

      <!-- Identificaci√≥n del Bien o Servicio -->
      <div class="form-section">
        <h3>2. Identificaci√≥n del Bien o Servicio</h3>
        
        <div class="form-group">
          <label class="required">Servicio Contratado</label>
          <select required id="servicio">
            <option value="">Seleccione...</option>
            <option value="terapia">Sesi√≥n de Terapia Online</option>
            <option value="coaching">Coaching Emocional</option>
            <option value="suscripcion">Plan de Suscripci√≥n</option>
            <option value="plataforma">Uso de la Plataforma</option>
            <option value="otro">Otro</option>
          </select>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label>Fecha del Servicio</label>
            <input type="date" max="">
          </div>
          <div class="form-group">
            <label>Monto del Servicio (S/)</label>
            <input type="number" step="0.01" min="0" placeholder="0.00">
          </div>
        </div>
      </div>

      <!-- Tipo de Solicitud -->
      <div class="form-section">
        <h3>3. Tipo de Solicitud</h3>
        
        <div class="radio-group">
          <label class="radio-option">
            <input type="radio" name="tipo" value="reclamo" required>
            <div>
              <strong>RECLAMO</strong>
              <small style="display: block; color: var(--text-soft);">
                Disconformidad relacionada con los servicios o productos adquiridos
              </small>
            </div>
          </label>
          
          <label class="radio-option">
            <input type="radio" name="tipo" value="queja" required>
            <div>
              <strong>QUEJA</strong>
              <small style="display: block; color: var(--text-soft);">
                Disconformidad no relacionada con los servicios (atenci√≥n, horarios, etc.)
              </small>
            </div>
          </label>
        </div>
      </div>

      <!-- Detalle de la Reclamaci√≥n -->
      <div class="form-section">
        <h3>4. Detalle de la Reclamaci√≥n</h3>
        
        <div class="form-group">
          <label class="required">Describe tu reclamo o queja</label>
          <textarea required placeholder="Describe detalladamente los hechos, fechas, nombres de personas involucradas, etc. S√© lo m√°s espec√≠fico posible para ayudarnos a resolver tu caso." rows="6"></textarea>
          <small>M√≠nimo 50 caracteres. S√© espec√≠fico y objetivo.</small>
        </div>

        <div class="form-group">
          <label class="required">¬øQu√© soluci√≥n esperas?</label>
          <textarea required placeholder="Indica qu√© esperas como soluci√≥n: reembolso, nueva sesi√≥n, disculpa formal, correcci√≥n del servicio, etc." rows="4"></textarea>
        </div>

        <div class="form-group">
          <label>Adjuntar documentos (opcional)</label>
          <div class="file-upload" onclick="document.getElementById('fileInput').click()">
            <input type="file" id="fileInput" multiple accept=".pdf,.jpg,.jpeg,.png,.doc,.docx">
            <label class="file-upload-label">
              <i class="fas fa-cloud-upload-alt file-upload-icon"></i>
              <span>Click para subir archivos</span>
              <small style="color: var(--text-soft);">PDF, JPG, PNG, DOC (M√°x. 5MB c/u)</small>
            </label>
          </div>
          <small>Capturas de pantalla, correos, comprobantes de pago, etc.</small>
        </div>
      </div>

      <!-- Consentimiento -->
      <div class="form-section">
        <label style="display: flex; align-items: start; gap: 10px; cursor: pointer;">
          <input type="checkbox" required style="margin-top: 5px; width: auto;">
          <span>
            Declaro que la informaci√≥n proporcionada es veraz y autorizo el tratamiento de mis datos personales 
            conforme a la <a href="privacidad.html" style="color: var(--primary);">Pol√≠tica de Privacidad</a> 
            para la atenci√≥n de mi reclamo. *
          </span>
        </label>
      </div>

      <button type="submit" class="btn-submit">
        <i class="fas fa-paper-plane"></i>
        Enviar Reclamo
      </button>

      <div class="legal-note">
        <strong>üìã Nota Legal:</strong> La formulaci√≥n de este reclamo no impide acudir a otras v√≠as de soluci√≥n de controversias 
        ni es requisito previo para interponer una denuncia ante INDECOPI. El plazo m√°ximo de respuesta es de 30 d√≠as calendario.
        <br><br>
        <strong>C√≥digo de Hoja:</strong> <span id="codigoHoja">-</span>
      </div>
    </form>
  </div>

  <script>
    // Configurar fecha m√°xima (hoy)
    document.querySelector('input[type="date"]').max = new Date().toISOString().split('T')[0];

    // Generar c√≥digo de hoja √∫nico
    const codigoHoja = 'LR-' + new Date().getFullYear() + '-' + Math.random().toString(36).substr(2, 9).toUpperCase();
    document.getElementById('codigoHoja').textContent = codigoHoja;

    // Manejar archivos adjuntos
    document.getElementById('fileInput').addEventListener('change', function(e) {
      const files = e.target.files;
      const uploadDiv = document.querySelector('.file-upload-label');
      
      if (files.length > 0) {
        const fileNames = Array.from(files).map(f => f.name).join(', ');
        uploadDiv.innerHTML = `
          <i class="fas fa-check-circle file-upload-icon" style="color: #10B981;"></i>
          <span style="color: #10B981; font-weight: 600;">${files.length} archivo(s) seleccionado(s)</span>
          <small style="color: var(--text-soft);">${fileNames}</small>
        `;
      }
    });

    // Manejar env√≠o del formulario
    function handleSubmit(e) {
      e.preventDefault();
      
      const btn = e.target.querySelector('.btn-submit');
      btn.disabled = true;
      btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Enviando...';
      
      // Simular env√≠o (aqu√≠ integrar√≠as con tu backend)
      setTimeout(() => {
        // Mostrar n√∫mero de seguimiento
        const numeroSeguimiento = 'BM-' + Date.now().toString(36).toUpperCase();
        
        alert(
          `‚úÖ Tu reclamo ha sido registrado exitosamente.\n\n` +
          `N√∫mero de seguimiento: ${numeroSeguimiento}\n` +
          `C√≥digo de hoja: ${codigoHoja}\n\n` +
          `Te hemos enviado una copia a tu email.\n` +
          `Responderemos en un plazo m√°ximo de 30 d√≠as calendario.`
        );
        
        // Redirigir al inicio
        setTimeout(() => {
          window.location.href = 'index.html';
        }, 2000);
        
      }, 2000);
      
      return false;
    }

    // Validaci√≥n en tiempo real
    document.querySelectorAll('input[required], textarea[required], select[required]').forEach(input => {
      input.addEventListener('blur', function() {
        if (!this.validity.valid) {
          this.style.borderColor = '#EF4444';
        } else {
          this.style.borderColor = '';
        }
      });
    });
  </script>
</body>
</html>
