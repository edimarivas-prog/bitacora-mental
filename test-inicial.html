<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Test de Bienestar - BitÃ¡cora Mental</title>
  
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&family=DM+Sans:wght@400;500;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  
  <style>
    :root {
      --primary: #4F6F52;
      --primary-light: #6B8A6E;
      --secondary: #A7C4B5;
      --background: #F9FBFA;
      --dark: #1F2933;
      --text-secondary: #6B7280;
      --border: #E6EFE8;
      --danger: #EF4444;
      --warning: #F59E0B;
      --success: #10B981;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'DM Sans', sans-serif;
      background: var(--background);
      color: var(--dark);
      line-height: 1.6;
    }

    h1, h2, h3 {
      font-family: 'Outfit', sans-serif;
    }

    /* Container */
    .test-container {
      max-width: 800px;
      margin: 0 auto;
      padding: 40px 20px;
      min-height: 100vh;
    }

    /* Header */
    .test-header {
      text-align: center;
      margin-bottom: 40px;
    }

    .logo {
      display: inline-flex;
      align-items: center;
      gap: 12px;
      font-family: 'Outfit', sans-serif;
      font-weight: 700;
      font-size: 1.4rem;
      color: var(--primary);
      text-decoration: none;
      margin-bottom: 32px;
    }

    .logo i {
      font-size: 1.8rem;
    }

    /* Progress Bar */
    .progress-container {
      background: white;
      border-radius: 16px;
      padding: 24px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.06);
      margin-bottom: 32px;
    }

    .progress-info {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 12px;
    }

    .progress-text {
      font-weight: 600;
      color: var(--dark);
    }

    .progress-percent {
      font-size: 1.1rem;
      font-weight: 700;
      color: var(--primary);
    }

    .progress-bar {
      width: 100%;
      height: 12px;
      background: var(--border);
      border-radius: 999px;
      overflow: hidden;
    }

    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, var(--primary), var(--secondary));
      border-radius: 999px;
      transition: width 0.5s ease;
      width: 0%;
    }

    /* Welcome Screen */
    .welcome-screen {
      background: white;
      border-radius: 20px;
      padding: 60px 40px;
      text-align: center;
      box-shadow: 0 10px 40px rgba(0,0,0,0.08);
    }

    .welcome-icon {
      font-size: 5rem;
      color: var(--primary);
      margin-bottom: 24px;
    }

    .welcome-screen h1 {
      font-size: 2.5rem;
      margin-bottom: 16px;
      color: var(--dark);
    }

    .welcome-screen p {
      font-size: 1.15rem;
      color: var(--text-secondary);
      margin-bottom: 32px;
      line-height: 1.8;
    }

    .info-box {
      background: var(--background);
      border-radius: 12px;
      padding: 20px;
      margin-bottom: 32px;
      text-align: left;
    }

    .info-item {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 12px;
    }

    .info-item:last-child {
      margin-bottom: 0;
    }

    .info-item i {
      color: var(--primary);
      font-size: 1.2rem;
      width: 24px;
    }

    /* Question Card */
    .question-card {
      background: white;
      border-radius: 20px;
      padding: 40px;
      box-shadow: 0 10px 40px rgba(0,0,0,0.08);
      display: none;
      animation: fadeIn 0.5s ease-out;
    }

    .question-card.active {
      display: block;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .question-number {
      color: var(--primary);
      font-weight: 600;
      font-size: 0.95rem;
      margin-bottom: 8px;
    }

    .question-text {
      font-size: 1.5rem;
      font-weight: 600;
      margin-bottom: 32px;
      color: var(--dark);
      line-height: 1.4;
    }

    .question-description {
      color: var(--text-secondary);
      margin-bottom: 32px;
      font-size: 1rem;
    }

    /* Options */
    .options {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .option {
      background: var(--background);
      border: 2px solid var(--border);
      border-radius: 12px;
      padding: 18px 24px;
      cursor: pointer;
      transition: all 0.2s;
      display: flex;
      align-items: center;
      gap: 16px;
    }

    .option:hover {
      background: white;
      border-color: var(--primary);
      transform: translateX(4px);
    }

    .option.selected {
      background: rgba(79, 111, 82, 0.08);
      border-color: var(--primary);
      box-shadow: 0 4px 12px rgba(79, 111, 82, 0.2);
    }

    .option-radio {
      width: 24px;
      height: 24px;
      border: 2px solid var(--border);
      border-radius: 50%;
      position: relative;
      flex-shrink: 0;
      transition: all 0.2s;
    }

    .option.selected .option-radio {
      border-color: var(--primary);
      background: var(--primary);
    }

    .option.selected .option-radio::after {
      content: 'âœ“';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      color: white;
      font-weight: bold;
      font-size: 0.9rem;
    }

    .option-text {
      flex: 1;
      font-weight: 500;
    }

    .option-value {
      color: var(--text-secondary);
      font-size: 0.9rem;
      font-weight: 600;
    }

    /* Scale Options */
    .scale-options {
      display: grid;
      grid-template-columns: repeat(5, 1fr);
      gap: 12px;
      margin-bottom: 16px;
    }

    .scale-option {
      aspect-ratio: 1;
      background: var(--background);
      border: 2px solid var(--border);
      border-radius: 12px;
      cursor: pointer;
      transition: all 0.2s;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }

    .scale-option:hover {
      background: white;
      border-color: var(--primary);
      transform: translateY(-4px);
    }

    .scale-option.selected {
      background: var(--primary);
      border-color: var(--primary);
      color: white;
    }

    .scale-number {
      font-size: 1.8rem;
      font-weight: 700;
    }

    .scale-label {
      font-size: 0.75rem;
      font-weight: 600;
      text-align: center;
      opacity: 0.8;
    }

    .scale-description {
      display: flex;
      justify-content: space-between;
      font-size: 0.85rem;
      color: var(--text-secondary);
      margin-top: 8px;
    }

    /* Navigation Buttons */
    .nav-buttons {
      display: flex;
      gap: 12px;
      margin-top: 32px;
    }

    .btn {
      padding: 14px 28px;
      border-radius: 12px;
      font-weight: 600;
      font-size: 1rem;
      cursor: pointer;
      transition: all 0.3s;
      border: none;
      font-family: 'DM Sans', sans-serif;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }

    .btn-secondary {
      background: var(--background);
      color: var(--dark);
      border: 2px solid var(--border);
    }

    .btn-secondary:hover {
      background: white;
      border-color: var(--primary);
    }

    .btn-primary {
      background: var(--primary);
      color: white;
      flex: 1;
      box-shadow: 0 4px 15px rgba(79, 111, 82, 0.3);
    }

    .btn-primary:hover:not(:disabled) {
      background: var(--primary-light);
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(79, 111, 82, 0.4);
    }

    .btn-primary:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    /* Results Screen */
    .results-screen {
      display: none;
      animation: fadeIn 0.5s ease-out;
    }

    .results-screen.active {
      display: block;
    }

    .results-card {
      background: white;
      border-radius: 20px;
      padding: 40px;
      box-shadow: 0 10px 40px rgba(0,0,0,0.08);
      margin-bottom: 24px;
    }

    .results-header {
      text-align: center;
      margin-bottom: 40px;
    }

    .results-icon {
      font-size: 4rem;
      margin-bottom: 20px;
    }

    .results-title {
      font-size: 2rem;
      margin-bottom: 12px;
      color: var(--dark);
    }

    .results-subtitle {
      color: var(--text-secondary);
      font-size: 1.1rem;
    }

    .score-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 20px;
      margin-bottom: 40px;
    }

    .score-card {
      background: var(--background);
      padding: 24px;
      border-radius: 12px;
      text-align: center;
    }

    .score-label {
      font-size: 0.9rem;
      color: var(--text-secondary);
      margin-bottom: 8px;
    }

    .score-value {
      font-size: 2.5rem;
      font-weight: 700;
      margin-bottom: 8px;
    }

    .score-value.low { color: var(--success); }
    .score-value.medium { color: var(--warning); }
    .score-value.high { color: var(--danger); }

    .score-status {
      font-size: 0.85rem;
      font-weight: 600;
      padding: 4px 12px;
      border-radius: 999px;
      display: inline-block;
    }

    .score-status.low {
      background: rgba(16, 185, 129, 0.1);
      color: var(--success);
    }

    .score-status.medium {
      background: rgba(245, 158, 11, 0.1);
      color: var(--warning);
    }

    .score-status.high {
      background: rgba(239, 68, 68, 0.1);
      color: var(--danger);
    }

    .recommendation {
      background: linear-gradient(135deg, var(--primary), var(--primary-light));
      color: white;
      padding: 32px;
      border-radius: 16px;
      margin-bottom: 24px;
    }

    .recommendation h3 {
      font-size: 1.5rem;
      margin-bottom: 16px;
    }

    .recommendation p {
      line-height: 1.8;
      opacity: 0.95;
      margin-bottom: 24px;
    }

    .specialist-card {
      background: rgba(255,255,255,0.15);
      padding: 20px;
      border-radius: 12px;
      backdrop-filter: blur(10px);
      display: flex;
      align-items: center;
      gap: 16px;
    }

    .specialist-icon {
      width: 60px;
      height: 60px;
      background: white;
      color: var(--primary);
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.8rem;
      flex-shrink: 0;
    }

    .specialist-info h4 {
      margin-bottom: 4px;
    }

    .specialist-info p {
      font-size: 0.9rem;
      margin: 0;
    }

    .action-buttons {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 16px;
      margin-top: 32px;
    }

    .btn-large {
      padding: 18px 24px;
      font-size: 1.05rem;
    }

    /* Mobile */
    @media (max-width: 768px) {
      .welcome-screen {
        padding: 40px 24px;
      }

      .welcome-screen h1 {
        font-size: 2rem;
      }

      .question-card {
        padding: 24px;
      }

      .question-text {
        font-size: 1.3rem;
      }

      .scale-options {
        grid-template-columns: repeat(5, 1fr);
        gap: 8px;
      }

      .scale-number {
        font-size: 1.3rem;
      }

      .scale-label {
        display: none;
      }

      .score-grid {
        grid-template-columns: 1fr;
      }

      .action-buttons {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <div class="test-container">
    <!-- Header -->
    <div class="test-header">
      <a href="/" class="logo">
        <i class="fas fa-brain"></i>
        BitÃ¡cora Mental
      </a>
    </div>

    <!-- Progress Bar -->
    <div class="progress-container" id="progressContainer" style="display: none;">
      <div class="progress-info">
        <span class="progress-text">Pregunta <span id="currentQuestion">1</span> de <span id="totalQuestions">10</span></span>
        <span class="progress-percent" id="progressPercent">0%</span>
      </div>
      <div class="progress-bar">
        <div class="progress-fill" id="progressFill"></div>
      </div>
    </div>

    <!-- Welcome Screen -->
    <div class="welcome-screen" id="welcomeScreen">
      <div class="welcome-icon">
        <i class="fas fa-clipboard-list"></i>
      </div>
      <h1>Test de Bienestar Emocional</h1>
      <p>Este cuestionario nos ayudarÃ¡ a entender cÃ³mo te sientes actualmente y recomendarte el mejor camino para tu bienestar.</p>
      
      <div class="info-box">
        <div class="info-item">
          <i class="fas fa-clock"></i>
          <span>Tiempo estimado: 5 minutos</span>
        </div>
        <div class="info-item">
          <i class="fas fa-question-circle"></i>
          <span>10 preguntas sencillas</span>
        </div>
        <div class="info-item">
          <i class="fas fa-lock"></i>
          <span>Tus respuestas son completamente privadas</span>
        </div>
        <div class="info-item">
          <i class="fas fa-chart-line"></i>
          <span>RecibirÃ¡s un anÃ¡lisis personalizado al finalizar</span>
        </div>
      </div>

      <button class="btn btn-primary btn-large" onclick="startTest()">
        <i class="fas fa-play"></i>
        Comenzar test
      </button>
    </div>

    <!-- Questions Container -->
    <div id="questionsContainer"></div>

    <!-- Results Screen -->
    <div class="results-screen" id="resultsScreen">
      <div class="results-card">
        <div class="results-header">
          <div class="results-icon">âœ¨</div>
          <h2 class="results-title">Resultados de tu evaluaciÃ³n</h2>
          <p class="results-subtitle">Hemos analizado tus respuestas y aquÃ­ estÃ¡ tu perfil de bienestar</p>
        </div>

        <div class="score-grid" id="scoresGrid"></div>
      </div>

      <div class="recommendation" id="recommendationCard"></div>

      <div class="action-buttons">
        <button class="btn btn-primary btn-large" onclick="goToDashboard()">
          <i class="fas fa-home"></i>
          Ir a mi dashboard
        </button>
        <button class="btn btn-secondary btn-large" onclick="scheduleAppointment()">
          <i class="fas fa-calendar-plus"></i>
          Agendar sesiÃ³n
        </button>
      </div>
    </div>
  </div>

  <script>
    // Test questions
    const questions = [
      {
        id: 1,
        category: 'ansiedad',
        text: 'Â¿Con quÃ© frecuencia te sientes nervioso/a o ansioso/a?',
        type: 'scale',
        scaleLabels: ['Nunca', 'Rara vez', 'A veces', 'Frecuente', 'Siempre']
      },
      {
        id: 2,
        category: 'ansiedad',
        text: 'Â¿Te cuesta relajarte o tranquilizarte?',
        type: 'scale',
        scaleLabels: ['Nunca', 'Rara vez', 'A veces', 'Frecuente', 'Siempre']
      },
      {
        id: 3,
        category: 'estres',
        text: 'Â¿Te sientes abrumado/a por tus responsabilidades?',
        type: 'scale',
        scaleLabels: ['Nunca', 'Rara vez', 'A veces', 'Frecuente', 'Siempre']
      },
      {
        id: 4,
        category: 'estres',
        text: 'Â¿Tienes dificultad para concentrarte en tus tareas?',
        type: 'scale',
        scaleLabels: ['Nunca', 'Rara vez', 'A veces', 'Frecuente', 'Siempre']
      },
      {
        id: 5,
        category: 'animo',
        text: 'Â¿CÃ³mo describirÃ­as tu estado de Ã¡nimo general?',
        type: 'scale',
        scaleLabels: ['Muy bajo', 'Bajo', 'Neutro', 'Bueno', 'Excelente']
      },
      {
        id: 6,
        category: 'animo',
        text: 'Â¿Disfrutas de las actividades que normalmente te gustan?',
        type: 'scale',
        scaleLabels: ['Nunca', 'Rara vez', 'A veces', 'Frecuente', 'Siempre']
      },
      {
        id: 7,
        category: 'sueno',
        text: 'Â¿CÃ³mo calificarÃ­as la calidad de tu sueÃ±o?',
        type: 'scale',
        scaleLabels: ['Muy mala', 'Mala', 'Regular', 'Buena', 'Excelente']
      },
      {
        id: 8,
        category: 'social',
        text: 'Â¿Te sientes conectado/a con las personas importantes en tu vida?',
        type: 'scale',
        scaleLabels: ['Nunca', 'Rara vez', 'A veces', 'Frecuente', 'Siempre']
      },
      {
        id: 9,
        category: 'motivacion',
        text: 'Â¿Sientes motivaciÃ³n para tus metas y proyectos?',
        type: 'scale',
        scaleLabels: ['Nunca', 'Rara vez', 'A veces', 'Frecuente', 'Siempre']
      },
      {
        id: 10,
        category: 'general',
        text: 'En general, Â¿cÃ³mo calificarÃ­as tu bienestar emocional actual?',
        type: 'scale',
        scaleLabels: ['Muy malo', 'Malo', 'Regular', 'Bueno', 'Excelente']
      }
    ];

    let currentQuestionIndex = 0;
    let answers = {};

    function startTest() {
      document.getElementById('welcomeScreen').style.display = 'none';
      document.getElementById('progressContainer').style.display = 'block';
      renderQuestion(0);
    }

    function renderQuestion(index) {
      const question = questions[index];
      const container = document.getElementById('questionsContainer');
      
      // Clear previous questions
      container.innerHTML = '';

      // Create question card
      const card = document.createElement('div');
      card.className = 'question-card active';
      card.innerHTML = `
        <div class="question-number">Pregunta ${index + 1} de ${questions.length}</div>
        <h2 class="question-text">${question.text}</h2>
        ${renderOptions(question)}
        <div class="nav-buttons">
          ${index > 0 ? '<button class="btn btn-secondary" onclick="previousQuestion()"><i class="fas fa-arrow-left"></i> Anterior</button>' : ''}
          <button class="btn btn-primary" id="nextBtn" onclick="nextQuestion()" disabled>
            ${index === questions.length - 1 ? 'Ver resultados' : 'Siguiente'} <i class="fas fa-arrow-right"></i>
          </button>
        </div>
      `;

      container.appendChild(card);

      // Update progress
      updateProgress(index);

      // Pre-select if already answered
      if (answers[question.id]) {
        selectOption(question.id, answers[question.id]);
      }
    }

    function renderOptions(question) {
      if (question.type === 'scale') {
        return `
          <div class="scale-options" id="options-${question.id}">
            ${[1, 2, 3, 4, 5].map(value => `
              <div class="scale-option" onclick="selectOption(${question.id}, ${value})" data-value="${value}">
                <div class="scale-number">${value}</div>
                <div class="scale-label">${question.scaleLabels[value - 1]}</div>
              </div>
            `).join('')}
          </div>
          <div class="scale-description">
            <span>${question.scaleLabels[0]}</span>
            <span>${question.scaleLabels[4]}</span>
          </div>
        `;
      }
    }

    function selectOption(questionId, value) {
      answers[questionId] = value;
      
      // Update UI
      const options = document.querySelectorAll(`#options-${questionId} .scale-option`);
      options.forEach(opt => {
        if (parseInt(opt.dataset.value) === value) {
          opt.classList.add('selected');
        } else {
          opt.classList.remove('selected');
        }
      });

      // Enable next button
      document.getElementById('nextBtn').disabled = false;
    }

    function updateProgress(index) {
      const percent = ((index + 1) / questions.length) * 100;
      document.getElementById('currentQuestion').textContent = index + 1;
      document.getElementById('totalQuestions').textContent = questions.length;
      document.getElementById('progressPercent').textContent = Math.round(percent) + '%';
      document.getElementById('progressFill').style.width = percent + '%';
    }

    function nextQuestion() {
      if (currentQuestionIndex < questions.length - 1) {
        currentQuestionIndex++;
        renderQuestion(currentQuestionIndex);
      } else {
        showResults();
      }
    }

    function previousQuestion() {
      if (currentQuestionIndex > 0) {
        currentQuestionIndex--;
        renderQuestion(currentQuestionIndex);
      }
    }

    function calculateScores() {
      const scores = {
        ansiedad: 0,
        estres: 0,
        animo: 0
      };

      questions.forEach(q => {
        const answer = answers[q.id] || 0;
        
        if (q.category === 'ansiedad') {
          scores.ansiedad += answer;
        } else if (q.category === 'estres') {
          scores.estres += answer;
        } else if (q.category === 'animo') {
          // Invertir puntuaciÃ³n para Ã¡nimo (5 es bueno, 1 es malo)
          scores.animo += (6 - answer);
        }
      });

      // Normalizar a escala de 10
      scores.ansiedad = Math.round((scores.ansiedad / 10) * 10);
      scores.estres = Math.round((scores.estres / 10) * 10);
      scores.animo = Math.round((scores.animo / 10) * 10);

      return scores;
    }

    function getScoreLevel(score) {
      if (score <= 3) return 'low';
      if (score <= 6) return 'medium';
      return 'high';
    }

    function getScoreLabel(score, isPositive = false) {
      const level = getScoreLevel(score);
      
      if (isPositive) {
        if (level === 'high') return 'Excelente';
        if (level === 'medium') return 'Moderado';
        return 'Bajo';
      } else {
        if (level === 'high') return 'Alto';
        if (level === 'medium') return 'Moderado';
        return 'Bajo';
      }
    }

    function getRecommendation(scores) {
      const avgNegative = (scores.ansiedad + scores.estres) / 2;
      
      if (avgNegative >= 7 || scores.animo >= 7) {
        return {
          title: 'Te recomendamos acompaÃ±amiento profesional',
          description: 'Tus respuestas indican que podrÃ­as beneficiarte significativamente del apoyo de un especialista. El acompaÃ±amiento terapÃ©utico puede ayudarte a desarrollar herramientas efectivas para manejar estos desafÃ­os.',
          specialty: 'Ansiedad y manejo del estrÃ©s',
          icon: 'ðŸ‘¨â€âš•ï¸'
        };
      } else if (avgNegative >= 4 || scores.animo >= 4) {
        return {
          title: 'El autocuidado con recursos guiados serÃ­a ideal para ti',
          description: 'EstÃ¡s en un buen momento para trabajar en tu bienestar de forma preventiva. Nuestros recursos y talleres grupales pueden ayudarte a fortalecer tus habilidades de manejo emocional.',
          specialty: 'Talleres grupales y recursos digitales',
          icon: 'ðŸŒ±'
        };
      } else {
        return {
          title: 'Â¡Tu bienestar estÃ¡ en buen estado!',
          description: 'Tus respuestas reflejan un nivel saludable de bienestar emocional. Te recomendamos mantener este equilibrio con nuestros recursos preventivos y seguimiento ocasional.',
          specialty: 'Recursos de mantenimiento',
          icon: 'âœ¨'
        };
      }
    }

    function showResults() {
      const scores = calculateScores();
      const recommendation = getRecommendation(scores);

      // Hide questions
      document.getElementById('questionsContainer').style.display = 'none';
      document.getElementById('progressContainer').style.display = 'none';

      // Show results
      const resultsScreen = document.getElementById('resultsScreen');
      resultsScreen.classList.add('active');

      // Render scores
      const scoresGrid = document.getElementById('scoresGrid');
      scoresGrid.innerHTML = `
        <div class="score-card">
          <div class="score-label">Ansiedad</div>
          <div class="score-value ${getScoreLevel(scores.ansiedad)}">${scores.ansiedad}/10</div>
          <div class="score-status ${getScoreLevel(scores.ansiedad)}">${getScoreLabel(scores.ansiedad)}</div>
        </div>
        <div class="score-card">
          <div class="score-label">EstrÃ©s</div>
          <div class="score-value ${getScoreLevel(scores.estres)}">${scores.estres}/10</div>
          <div class="score-status ${getScoreLevel(scores.estres)}">${getScoreLabel(scores.estres)}</div>
        </div>
        <div class="score-card">
          <div class="score-label">Estado de Ã¡nimo</div>
          <div class="score-value ${getScoreLevel(scores.animo)}">${scores.animo}/10</div>
          <div class="score-status ${getScoreLevel(scores.animo)}">${getScoreLabel(scores.animo, false)}</div>
        </div>
      `;

      // Render recommendation
      const recommendationCard = document.getElementById('recommendationCard');
      recommendationCard.innerHTML = `
        <h3><i class="fas fa-lightbulb"></i> RecomendaciÃ³n personalizada</h3>
        <p>${recommendation.description}</p>
        <div class="specialist-card">
          <div class="specialist-icon">${recommendation.icon}</div>
          <div class="specialist-info">
            <h4>${recommendation.title}</h4>
            <p>Especialidad sugerida: ${recommendation.specialty}</p>
          </div>
        </div>
      `;

      // Save results to localStorage (en producciÃ³n serÃ­a a Supabase)
      localStorage.setItem('testResults', JSON.stringify({
        scores: scores,
        recommendation: recommendation,
        date: new Date().toISOString()
      }));
    }

    function goToDashboard() {
      window.location.href = 'app/dashboard.html';
    }

    function scheduleAppointment() {
      window.location.href = 'app/agendar.html';
    }
  </script>

  <!-- Supabase SDK -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script src="/js/supabase-config.js"></script>
  
</body>
</html>
